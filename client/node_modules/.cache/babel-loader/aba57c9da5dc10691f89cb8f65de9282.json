{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/Redux/Projects/redux-app-main-copy/client/src/components/taskItem/taskItem.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { inputDelete, updateText, updateDesc, checkUpdate } from \"../../redux/actions\";\nimport './taskItem.css';\nimport DateMomentUtils from '@date-io/moment'; // choose your lib\n\nimport { // DatePicker,\n// TimePicker,\nDateTimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction TaskItem(props) {\n  _s();\n\n  let [mode, setMode] = useState(false);\n  let [btn, setBtn] = useState(false); // const [descript, setDescript] = useState(descript)\n\n  const [selectedDate, handleDateChange] = useState(new Date().setHours(24));\n  const [input, setInput] = useState('');\n  const [desc, setDesc] = useState('');\n  const {\n    text,\n    _id,\n    done,\n    descript\n  } = props;\n  const dispatch = useDispatch(); // удаляем таску\n\n  const handleDelete = async e => {\n    e.preventDefault();\n    dispatch(inputDelete(_id));\n  }; // ввод инпута\n\n\n  const handleInput = e => {\n    setInput(e.target.value = e.target.value.replace(/ +/g, ' '));\n  };\n\n  const handleDescript = e => {\n    setInput(e.target.value = e.target.value.replace(/ +/g, ' '));\n  }; // обновление чека и отправка на сервер\n\n\n  const handleCheck = e => {\n    e.preventDefault();\n\n    try {\n      dispatch(checkUpdate(_id, !done));\n    } catch (error) {\n      console.log(error);\n    }\n  }; // взаимодействие с css\n\n\n  const removeAttribute = e => {\n    e.currentTarget.removeAttribute(\"readonly\", \"true\");\n  };\n\n  const onBlur = e => {\n    e.preventDefault();\n    handleUpdateInput(e);\n    setMode(false);\n    e.currentTarget.classList.remove(\"to-do__text-active\");\n  };\n\n  const onFocus = e => {\n    handleUpdateInput(e);\n    e.currentTarget.classList.add(\"to-do__text-active\");\n  };\n\n  const addBtn = e => {\n    e.preventDefault();\n    setBtn(!btn);\n  };\n\n  const handleKeyDown = e => {\n    if (e.keyCode === 13) {\n      handleUpdateInput(e);\n      setMode(false);\n      e.currentTarget.setAttribute(\"readonly\", \"true\");\n      e.currentTarget.classList.remove(\"to-do__text-active\");\n    }\n  };\n\n  const modeUpdateTrue = e => {\n    e.preventDefault();\n    setMode(true);\n  };\n\n  const handleUpdateInput = async e => {\n    e.preventDefault();\n\n    if (!input || input === \" \") {\n      setInput(e.target.value = props.text);\n    } else {\n      try {\n        setInput(text);\n      } catch (error) {\n        console.log(error);\n      }\n\n      dispatch(updateText(input, _id, done));\n    }\n  }; //Description//\n\n\n  const handleUpdateDesc = async e => {\n    e.preventDefault();\n\n    if (!input || input === \" \") {\n      setDesc(e.target.value = props.desc);\n    } else {\n      try {\n        setDesc(desc);\n      } catch (error) {\n        console.log(error);\n      }\n\n      dispatch(updateDesc(_id, input));\n    }\n  }; //////////////////\n\n\n  let classDone, classCheck, classActive, classBtn;\n\n  if (done) {\n    classDone = \"to-do__text to-do__done\";\n    classCheck = \"to-do__checkbox to-do__checkbox-actve\";\n    classActive = \"to-do__checkbox-check to-do__checkbox-check-active\";\n  } else {\n    classDone = \"to-do__text\";\n    classCheck = \"to-do__checkbox\";\n    classActive = \"to-do__checkbox-check\";\n  }\n\n  if (btn) {\n    classBtn = \"to-do__menu-wrapp active\";\n  } else {\n    classBtn = \"to-do__menu-wrapp\";\n  }\n\n  useEffect(() => {\n    if (text) {\n      setInput(text);\n    }\n  }, [text]);\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"to-do__list-li\",\n    children: [/*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n      utils: DateMomentUtils,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"to-do__Time to-do__material\",\n        children: /*#__PURE__*/_jsxDEV(DateTimePicker, {\n          value: selectedDate,\n          onChange: handleDateChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: classCheck,\n      htmlFor: \"checkItem\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"checkItem\",\n      className: \"to-do__checkbox-input\",\n      onClick: handleCheck,\n      type: \"checkbox\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      className: classActive,\n      src: \"/img/check.svg\",\n      alt: \"check\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"div\",\n      children: mode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          autoFocus: true,\n          className: classDone,\n          onBlur: onBlur,\n          onFocus: onFocus,\n          onKeyDown: handleKeyDown,\n          onDoubleClick: removeAttribute,\n          onChange: handleInput,\n          defaultValue: text,\n          id: _id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          type: \"text\",\n          disabled: true,\n          className: classDone,\n          onDoubleClick: modeUpdateTrue,\n          id: _id,\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 25\n        }, this), btn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"to-do__description\",\n            maxlength: \"130\",\n            name: \"text\",\n            onChange: handleInput,\n            placeholder: \"Description\",\n            id: _id,\n            children: desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"to-do__checkbox-btn\",\n          onClick: handleDelete,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"to-do__checkbox-cross\",\n            src: \"/img/cross.svg\",\n            alt: \"delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"to-do__menu-add\",\n          onClick: addBtn,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"to-do__menu-img\",\n            src: \"/img/pencil.svg\",\n            width: 18,\n            height: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"to-do__menu\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classBtn,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"to-do__menu-btn-wrapp\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"to-do__menu-brn\",\n                onClick: handleUpdateDesc,\n                children: \"add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"to-do__menu-btn-wrapp\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"to-do__menu-brn\",\n                children: \"watch\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"to-do__menu-btn-wrapp\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"to-do__menu-brn\",\n                children: \"change\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TaskItem, \"nbHz7LiwH1avtygO2FasHwIIh9w=\", false, function () {\n  return [useDispatch];\n});\n\n_c = TaskItem;\nexport default TaskItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"TaskItem\");","map":{"version":3,"sources":["/home/user/Desktop/Redux/Projects/redux-app-main-copy/client/src/components/taskItem/taskItem.jsx"],"names":["useState","useEffect","useDispatch","inputDelete","updateText","updateDesc","checkUpdate","DateMomentUtils","DateTimePicker","MuiPickersUtilsProvider","TaskItem","props","mode","setMode","btn","setBtn","selectedDate","handleDateChange","Date","setHours","input","setInput","desc","setDesc","text","_id","done","descript","dispatch","handleDelete","e","preventDefault","handleInput","target","value","replace","handleDescript","handleCheck","error","console","log","removeAttribute","currentTarget","onBlur","handleUpdateInput","classList","remove","onFocus","add","addBtn","handleKeyDown","keyCode","setAttribute","modeUpdateTrue","handleUpdateDesc","classDone","classCheck","classActive","classBtn"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { inputDelete, updateText, updateDesc, checkUpdate } from \"../../redux/actions\";\nimport './taskItem.css';\n\nimport DateMomentUtils from '@date-io/moment';// choose your lib\nimport {\n    // DatePicker,\n    // TimePicker,\n    DateTimePicker,\n    MuiPickersUtilsProvider,\n} from '@material-ui/pickers';\n\n\nfunction TaskItem(props) {\n    let [mode, setMode] = useState(false);\n    let [btn, setBtn] = useState(false);\n    // const [descript, setDescript] = useState(descript)\n    const [selectedDate, handleDateChange] = useState(new Date().setHours(24));\n    const [input, setInput] = useState('')\n    const [desc, setDesc] = useState('')\n\n\n    const { text, _id, done, descript } = props\n    const dispatch = useDispatch();\n\n    // удаляем таску\n    const handleDelete = async (e) => {\n        e.preventDefault();\n        dispatch(inputDelete(_id))\n    };\n\n    // ввод инпута\n    const handleInput = (e) => { setInput(e.target.value = e.target.value.replace(/ +/g, ' ')) }\n    const handleDescript = (e) => { setInput(e.target.value = e.target.value.replace(/ +/g, ' ')) }\n\n\n    // обновление чека и отправка на сервер\n    const handleCheck = (e) => {\n        e.preventDefault();\n        try {\n            dispatch(checkUpdate(_id, !done));\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    // взаимодействие с css\n    const removeAttribute = (e) => {\n        e.currentTarget.removeAttribute(\"readonly\", \"true\")\n    }\n    const onBlur = (e) => {\n        e.preventDefault();\n        handleUpdateInput(e)\n        setMode(false)\n        e.currentTarget.classList.remove(\"to-do__text-active\")\n    }\n    const onFocus = (e) => {\n        handleUpdateInput(e)\n        e.currentTarget.classList.add(\"to-do__text-active\")\n    }\n\n    const addBtn = (e) => {\n        e.preventDefault();\n        setBtn(!btn)\n    }\n\n    const handleKeyDown = (e) => {\n        if (e.keyCode === 13) {\n            handleUpdateInput(e)\n            setMode(false)\n            e.currentTarget.setAttribute(\"readonly\", \"true\")\n            e.currentTarget.classList.remove(\"to-do__text-active\");\n        }\n    }\n    const modeUpdateTrue = (e) => {\n        e.preventDefault();\n        setMode(true)\n    }\n\n    const handleUpdateInput = async (e) => {\n        e.preventDefault();\n        if (!input || input === \" \") {\n            setInput(e.target.value = props.text);\n        }\n        else {\n            try {\n                setInput(text);\n            } catch (error) {\n                console.log(error);\n            }\n            dispatch(updateText(input, _id, done))\n        }\n    };\n\n    //Description//\n    const handleUpdateDesc = async (e) => {\n        e.preventDefault();\n        if (!input || input === \" \") {\n            setDesc(e.target.value = props.desc);\n        }\n        else {\n            try {\n                setDesc(desc);\n            } catch (error) {\n                console.log(error);\n            }\n            dispatch(updateDesc(_id, input))\n        }\n    };\n    //////////////////\n\n    let classDone, classCheck, classActive, classBtn;\n    if (done) {\n        classDone = \"to-do__text to-do__done\";\n        classCheck = \"to-do__checkbox to-do__checkbox-actve\";\n        classActive = \"to-do__checkbox-check to-do__checkbox-check-active\";\n    } else {\n        classDone = \"to-do__text\";\n        classCheck = \"to-do__checkbox\";\n        classActive = \"to-do__checkbox-check\";\n    }\n\n\n    if (btn) {\n        classBtn = \"to-do__menu-wrapp active\"\n    } else {\n        classBtn = \"to-do__menu-wrapp\"\n    }\n\n    useEffect(() => {\n        if (text) {\n            setInput(text)\n        }\n    }, [text])\n    return (\n        <li className=\"to-do__list-li\">\n            <MuiPickersUtilsProvider utils={DateMomentUtils}>\n                <div className=\"to-do__Time to-do__material\">\n                    <DateTimePicker value={selectedDate} onChange={handleDateChange} />\n                </div>\n            </MuiPickersUtilsProvider>\n            <label\n                className={classCheck}\n                htmlFor=\"checkItem\">\n            </label>\n            <input\n                id=\"checkItem\"\n                className=\"to-do__checkbox-input\"\n                onClick={handleCheck}\n                type=\"checkbox\"\n            />\n            <img\n                className={classActive}\n                src=\"/img/check.svg\"\n                alt=\"check\"\n            />\n            <div className=\"div\">\n                {mode ?\n                    <>\n                        <input\n                            type=\"text\"\n                            autoFocus\n                            className={classDone}\n                            onBlur={onBlur}\n                            onFocus={onFocus}\n                            onKeyDown={handleKeyDown}\n                            onDoubleClick={removeAttribute}\n                            onChange={handleInput}\n                            defaultValue={text}\n                            id={_id}\n                        />\n                    </>\n                    :\n                    <>\n                        <div\n                            type=\"text\"\n                            disabled\n                            className={classDone}\n                            onDoubleClick={modeUpdateTrue}\n                            id={_id}\n                        >\n                            {text}\n                        </div>\n\n                        {btn ? <>\n                        <textarea\n                            className=\"to-do__description\"\n                            maxlength=\"130\"\n                            name=\"text\"\n                            onChange={handleInput}\n                            placeholder=\"Description\"\n                            id={_id}\n                        >\n                            {desc}\n                        </textarea>\n                        </> : <></>}\n                        <button className=\"to-do__checkbox-btn\" onClick={handleDelete}>\n                            <img className=\"to-do__checkbox-cross\" src=\"/img/cross.svg\" alt=\"delete\" />\n                        </button>\n                        <button className=\"to-do__menu-add\" onClick={addBtn}>\n                            <img className=\"to-do__menu-img\" src=\"/img/pencil.svg\"width={18} height={18}/>\n                        </button>\n                        <div className=\"to-do__menu\">\n                            <div className={classBtn}>\n                                <div className=\"to-do__menu-btn-wrapp\">\n                                    <button className=\"to-do__menu-brn\"onClick={handleUpdateDesc}>add</button>\n                                </div>\n                                <div className=\"to-do__menu-btn-wrapp\">\n                                    <button className=\"to-do__menu-brn\">watch</button>\n                                </div>\n                                <div className=\"to-do__menu-btn-wrapp\">\n                                    <button className=\"to-do__menu-brn\">change</button>\n                                </div>\n                            </div>\n                        </div>\n\n                    </>}\n            </div>\n        </li>\n    )\n}\n\n\n\nexport default TaskItem;\n"]},"metadata":{},"sourceType":"module"}